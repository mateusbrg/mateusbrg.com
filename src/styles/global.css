@import "@fontsource/space-grotesk/400.css";
@import "@fontsource/space-grotesk/700.css";
@import "@fontsource/noto-serif/400.css";
@import "@fontsource/noto-serif/400-italic.css";
@import "@fontsource/noto-serif/700.css";
@import "@fontsource/ibm-plex-mono/400.css";
@import "@fontsource/ibm-plex-mono/700.css";

@import "tailwindcss";

@theme {
  --font-heading: "Space Grotesk", sans-serif;
  --font-body: "Noto Serif", serif;
  --font-mono: "IBM Plex Mono", monospace;

  --color-background: #FAFAF8;
  --color-surface: #FFFFFF;
  --color-surface-soft: #f4f4f1;
  --color-surface-elevated: #fffefb;
  --color-text-primary: #1A1A1A;
  --color-text-body: #3D3D3D;
  --color-text-muted: #6B6B6B;
  --color-text-faint: #8a8a83;
  --color-border: #E8E8E4;
  --color-border-strong: #d8d8d1;
  --color-accent: #2B5EA7;
  --color-accent-soft: #d7e4f6;

  --shadow-soft: 0 8px 28px -20px rgba(20, 20, 20, 0.35);
  --shadow-card: 0 24px 40px -32px rgba(10, 10, 10, 0.35);
  --motion-fast: 180ms;
  --motion-base: 320ms;
  --ease-standard: cubic-bezier(0.22, 0.61, 0.36, 1);
  --ease-emphasis: cubic-bezier(0.2, 0.8, 0.2, 1);

  --size-display: clamp(2.1rem, 5.6vw, 3.9rem);
  --size-h1: clamp(1.86rem, 4.3vw, 3.02rem);
  --size-h2: clamp(1.38rem, 2.6vw, 2.08rem);
  --size-lead: clamp(1.07rem, 1.6vw, 1.28rem);
  --size-body: clamp(1rem, 0.97rem + 0.15vw, 1.08rem);
  --size-meta: 0.9rem;
  --space-section: clamp(2.75rem, 7vw, 5.5rem);
  --space-intro: clamp(1.75rem, 3vw, 2.75rem);
  --measure-content: 68ch;
}

@layer base {
  html {
    font-family: var(--font-body);
    color: var(--color-text-body);
    background-color: var(--color-background);
    line-height: 1.7;
    font-size: 16.5px;
  }

  h1, h2, h3, h4 {
    font-family: var(--font-heading);
    color: var(--color-text-primary);
    line-height: 1.2;
    letter-spacing: -0.02em;
  }

  code, pre {
    font-family: var(--font-mono);
  }

  a {
    color: var(--color-accent);
    text-decoration: none;
    transition: color var(--motion-fast) var(--ease-standard);
  }

  a:hover {
    text-decoration: underline;
  }

  body {
    min-height: 100vh;
    background:
      radial-gradient(circle at 85% 8%, #ffffff 0%, transparent 42%),
      radial-gradient(circle at 2% 15%, #f2f4f8 0%, transparent 36%),
      var(--color-background);
  }

  *:focus-visible {
    outline: 2px solid color-mix(in srgb, var(--color-accent) 86%, white);
    outline-offset: 3px;
    border-radius: 0.35rem;
  }
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .reveal {
    opacity: 1 !important;
    transform: none !important;
  }
}

@layer components {
  .section-shell {
    padding-block: var(--space-section);
  }

  .section-intro {
    margin-bottom: var(--space-intro);
  }

  .content-measure {
    max-width: var(--measure-content);
  }

  .eyebrow {
    font-family: var(--font-mono);
    font-size: var(--size-meta);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-text-faint);
  }

  .meta-line {
    font-family: var(--font-mono);
    font-size: var(--size-meta);
    color: color-mix(in srgb, var(--color-text-muted) 88%, black);
    letter-spacing: 0.005em;
    line-height: 1.5;
  }

  .surface-card {
    border: 1px solid var(--color-border);
    border-radius: 1rem;
    background: linear-gradient(
      160deg,
      var(--color-surface-elevated) 0%,
      var(--color-surface) 100%
    );
    box-shadow: var(--shadow-card);
  }

  .prose {
    font-family: var(--font-body);
    color: var(--color-text-body);
    line-height: 1.84;
    font-size: var(--size-body);
    max-width: var(--measure-content);
  }
  .prose h2 {
    font-family: var(--font-heading);
    color: var(--color-text-primary);
    font-size: var(--size-h2);
    font-weight: 700;
    margin-top: 3.3rem;
    margin-bottom: 1.2rem;
  }
  .prose h3 {
    font-family: var(--font-heading);
    color: var(--color-text-primary);
    font-size: 1.32rem;
    font-weight: 600;
    margin-top: 2.4rem;
    margin-bottom: 0.82rem;
  }
  .prose p {
    margin-bottom: 1.35rem;
  }
  .prose a {
    color: var(--color-accent);
    text-decoration: underline;
  }
  .prose blockquote {
    border-left: 3px solid var(--color-accent);
    background-color: var(--color-surface-soft);
    border-radius: 0 0.75rem 0.75rem 0;
    padding: 0.95rem 1rem 0.95rem 1.1rem;
    margin: 2rem 0;
    color: var(--color-text-muted);
    font-style: italic;
  }
  .prose ul, .prose ol {
    padding-left: 1.5rem;
    margin-bottom: 1.4rem;
  }
  .prose li {
    margin-bottom: 0.65rem;
  }
  .prose ul li {
    list-style-type: disc;
  }
  .prose ol li {
    list-style-type: decimal;
  }
  .prose pre {
    background-color: #141621;
    color: #dde2f8;
    padding: 1rem;
    border-radius: 0.75rem;
    overflow-x: auto;
    margin: 1.75rem 0;
    font-size: 0.875rem;
    line-height: 1.6;
    border: 1px solid #2d3048;
  }
  .prose code:not(pre code) {
    background-color: var(--color-surface-soft);
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
    font-size: 0.875rem;
    border: 1px solid var(--color-border);
  }
  .prose hr {
    border-color: var(--color-border);
    margin: 2.4rem 0;
  }
  .prose img {
    border-radius: 0.75rem;
    margin: 1.8rem 0;
    border: 1px solid var(--color-border);
    box-shadow: var(--shadow-soft);
  }

  @keyframes reveal-up {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .reveal {
    opacity: 0;
    transform: translateY(10px);
    animation: reveal-up var(--motion-base) var(--ease-emphasis) forwards;
    will-change: opacity, transform;
  }

  .reveal-delay-1 {
    animation-delay: 40ms;
  }

  .reveal-delay-2 {
    animation-delay: 90ms;
  }

  .reveal-delay-3 {
    animation-delay: 140ms;
  }
}
